<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IV Data Logger</title>

  <!-- PapaParse -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- App JS -->
  <script src="app.js" defer></script>
</head>

<body>

  <!-- Backend Status -->
  <div id="backendStatus" class="status status-sleep">
    Backend: Sleeping
  </div>

  <div class="container">

    <header>
      <h1>IV Data Logger</h1>
      <p class="subtitle">Volatility intelligence Â· Preview before save</p>
    </header>

    <!-- INPUT CARD -->
    <section class="card">

      <div class="form-grid">

        <div class="form-group">
          <label>Symbol</label>
          <select id="symbol">
            <option value="NIFTY">NIFTY</option>
            <option value="BANKNIFTY">BANKNIFTY</option>
          </select>
        </div>

        <div class="form-group">
          <label>Date</label>
          <input type="date" id="date" />
        </div>

        <div class="form-group">
          <label>Spot Price</label>
          <input type="number" id="spot" placeholder="e.g. 26124" />
        </div>

      </div>

      <div class="file-row">
        <input type="file" id="csvFile" accept=".csv" />
        <button id="processBtn" class="primary-btn" disabled>
          Process & Preview
        </button>
      </div>

      <div id="status" class="status-text"></div>

    </section>

    <!-- PREVIEW CARD -->
    <section id="previewSection" class="card preview-card" style="display:none;">

      <div class="preview-header">
        <h2>IV Data Preview</h2>
        <span class="hint">Verify before saving</span>
      </div>

      <table class="preview-table">
        <tbody id="previewTable"></tbody>
      </table>

      <div class="preview-actions">
        <button class="confirm-btn" onclick="confirmSave()">
          Confirm & Save
        </button>
      </div>

    </section>

  </div>

</body>
</html>
